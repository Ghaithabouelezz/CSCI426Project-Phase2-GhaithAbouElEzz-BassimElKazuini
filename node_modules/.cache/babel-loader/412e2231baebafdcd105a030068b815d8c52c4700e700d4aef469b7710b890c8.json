{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\leokr\\\\project\\\\src\\\\Pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport '../Styles/Login.css';\nimport image from '../assets/image.webp';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  const API_URL = \"http://localhost:5000/api\";\n  const handleSignIn = async e => {\n    e.preventDefault();\n    if (name.trim() === \"\" || password.trim() === \"\") {\n      alert(\"Please fill in both name and password!\");\n      return;\n    }\n    setLoading(true);\n    try {\n      if (hasAccount) {\n        // LOGIN - Check if user exists in database\n        const response = await fetch(`${API_URL}/login`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: name,\n            password: password\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          // Save user to localStorage\n          localStorage.setItem('user', JSON.stringify(data.user));\n          alert(\"Login successful!\");\n          navigate('/home');\n        } else {\n          alert(data.message || \"Login failed!\");\n        }\n      } else {\n        // REGISTER - Create new user in database\n        const response = await fetch(`${API_URL}/register`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            username: name,\n            password: password\n          })\n        });\n        const data = await response.json();\n        if (data.success) {\n          alert(\"Registration successful! You can now login.\");\n          // Switch to login form\n          setHasAccount(true);\n          setName(\"\");\n          setPassword(\"\");\n        } else {\n          alert(data.message || \"Registration failed!\");\n        }\n      }\n    } catch (error) {\n      alert(\"Cannot connect to server! Make sure backend is running on http://localhost:5000\");\n      console.error(\"Error:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page\",\n    style: {\n      backgroundImage: `url(${image})`,\n      backgroundSize: 'cover',\n      minHeight: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"login-title\",\n        children: hasAccount ? \"Sign In\" : \"Create Account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login-form\",\n        onSubmit: handleSignIn,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Enter your username\",\n          value: name,\n          onChange: e => setName(e.target.value),\n          required: true,\n          className: \"login-input\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Enter your password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true,\n          className: \"login-input\",\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"login-button\",\n          disabled: loading,\n          children: loading ? \"Processing...\" : hasAccount ? \"Sign In\" : \"Sign Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"login-toggle\",\n        children: [hasAccount ? \"Don't have an account?\" : \"Already have an account?\", /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            setHasAccount(!hasAccount);\n            setName(\"\");\n            setPassword(\"\");\n          },\n          className: \"login-toggle-btn\",\n          disabled: loading,\n          children: hasAccount ? \"Sign Up\" : \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(LoginPage, \"7uduCLhaskdzIG/tKco+ucB4gY8=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["useState","useNavigate","image","jsxDEV","_jsxDEV","LoginPage","_s","name","setName","password","setPassword","hasAccount","setHasAccount","loading","setLoading","navigate","API_URL","handleSignIn","e","preventDefault","trim","alert","response","fetch","method","headers","body","JSON","stringify","username","data","json","success","localStorage","setItem","user","message","error","console","className","style","backgroundImage","backgroundSize","minHeight","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","disabled","onClick","_c","$RefreshReg$"],"sources":["C:/Users/leokr/project/src/Pages/Login.js"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport '../Styles/Login.css';\r\nimport image from '../assets/image.webp';\r\n\r\nexport default function LoginPage() {\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [hasAccount, setHasAccount] = useState(true);\r\n  const [loading, setLoading] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const API_URL = \"http://localhost:5000/api\";\r\n\r\n  const handleSignIn = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (name.trim() === \"\" || password.trim() === \"\") {\r\n      alert(\"Please fill in both name and password!\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n\r\n    try {\r\n      if (hasAccount) {\r\n        // LOGIN - Check if user exists in database\r\n        const response = await fetch(`${API_URL}/login`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ \r\n            username: name, \r\n            password: password \r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.success) {\r\n          // Save user to localStorage\r\n          localStorage.setItem('user', JSON.stringify(data.user));\r\n          alert(\"Login successful!\");\r\n          navigate('/home');\r\n        } else {\r\n          alert(data.message || \"Login failed!\");\r\n        }\r\n      } else {\r\n        // REGISTER - Create new user in database\r\n        const response = await fetch(`${API_URL}/register`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify({ \r\n            username: name, \r\n            password: password \r\n          }),\r\n        });\r\n\r\n        const data = await response.json();\r\n\r\n        if (data.success) {\r\n          alert(\"Registration successful! You can now login.\");\r\n          // Switch to login form\r\n          setHasAccount(true);\r\n          setName(\"\");\r\n          setPassword(\"\");\r\n        } else {\r\n          alert(data.message || \"Registration failed!\");\r\n        }\r\n      }\r\n    } catch (error) {\r\n      alert(\"Cannot connect to server! Make sure backend is running on http://localhost:5000\");\r\n      console.error(\"Error:\", error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\" style={{ backgroundImage: `url(${image})`, backgroundSize: 'cover', minHeight: '100vh' }}>\r\n      <div className=\"login-card\">\r\n        <h1 className=\"login-title\">{hasAccount ? \"Sign In\" : \"Create Account\"}</h1>\r\n        <form className=\"login-form\" onSubmit={handleSignIn}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Enter your username\"\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n            required\r\n            className=\"login-input\"\r\n            disabled={loading}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Enter your password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n            className=\"login-input\"\r\n            disabled={loading}\r\n          />\r\n          <button \r\n            type=\"submit\" \r\n            className=\"login-button\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? \"Processing...\" : (hasAccount ? \"Sign In\" : \"Sign Up\")}\r\n          </button>\r\n        </form>\r\n        <p className=\"login-toggle\">\r\n          {hasAccount ? \"Don't have an account?\" : \"Already have an account?\"}\r\n          <button \r\n            onClick={() => {\r\n              setHasAccount(!hasAccount);\r\n              setName(\"\");\r\n              setPassword(\"\");\r\n            }} \r\n            className=\"login-toggle-btn\"\r\n            disabled={loading}\r\n          >\r\n            {hasAccount ? \"Sign Up\" : \"Sign In\"}\r\n          </button>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,qBAAqB;AAC5B,OAAOC,KAAK,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,eAAe,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EAClC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAACa,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAMe,QAAQ,GAAGd,WAAW,CAAC,CAAC;EAE9B,MAAMe,OAAO,GAAG,2BAA2B;EAE3C,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAElB,IAAIZ,IAAI,CAACa,IAAI,CAAC,CAAC,KAAK,EAAE,IAAIX,QAAQ,CAACW,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;MAChDC,KAAK,CAAC,wCAAwC,CAAC;MAC/C;IACF;IAEAP,UAAU,CAAC,IAAI,CAAC;IAEhB,IAAI;MACF,IAAIH,UAAU,EAAE;QACd;QACA,MAAMW,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,QAAQ,EAAE;UAC/CQ,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,QAAQ,EAAEtB,IAAI;YACdE,QAAQ,EAAEA;UACZ,CAAC;QACH,CAAC,CAAC;QAEF,MAAMqB,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAElC,IAAID,IAAI,CAACE,OAAO,EAAE;UAChB;UACAC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEP,IAAI,CAACC,SAAS,CAACE,IAAI,CAACK,IAAI,CAAC,CAAC;UACvDd,KAAK,CAAC,mBAAmB,CAAC;UAC1BN,QAAQ,CAAC,OAAO,CAAC;QACnB,CAAC,MAAM;UACLM,KAAK,CAACS,IAAI,CAACM,OAAO,IAAI,eAAe,CAAC;QACxC;MACF,CAAC,MAAM;QACL;QACA,MAAMd,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGP,OAAO,WAAW,EAAE;UAClDQ,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YACP,cAAc,EAAE;UAClB,CAAC;UACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;YACnBC,QAAQ,EAAEtB,IAAI;YACdE,QAAQ,EAAEA;UACZ,CAAC;QACH,CAAC,CAAC;QAEF,MAAMqB,IAAI,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC;QAElC,IAAID,IAAI,CAACE,OAAO,EAAE;UAChBX,KAAK,CAAC,6CAA6C,CAAC;UACpD;UACAT,aAAa,CAAC,IAAI,CAAC;UACnBJ,OAAO,CAAC,EAAE,CAAC;UACXE,WAAW,CAAC,EAAE,CAAC;QACjB,CAAC,MAAM;UACLW,KAAK,CAACS,IAAI,CAACM,OAAO,IAAI,sBAAsB,CAAC;QAC/C;MACF;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdhB,KAAK,CAAC,iFAAiF,CAAC;MACxFiB,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;IAChC,CAAC,SAAS;MACRvB,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEV,OAAA;IAAKmC,SAAS,EAAC,YAAY;IAACC,KAAK,EAAE;MAAEC,eAAe,EAAE,OAAOvC,KAAK,GAAG;MAAEwC,cAAc,EAAE,OAAO;MAAEC,SAAS,EAAE;IAAQ,CAAE;IAAAC,QAAA,eACnHxC,OAAA;MAAKmC,SAAS,EAAC,YAAY;MAAAK,QAAA,gBACzBxC,OAAA;QAAImC,SAAS,EAAC,aAAa;QAAAK,QAAA,EAAEjC,UAAU,GAAG,SAAS,GAAG;MAAgB;QAAAkC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,eAC5E5C,OAAA;QAAMmC,SAAS,EAAC,YAAY;QAACU,QAAQ,EAAEhC,YAAa;QAAA2B,QAAA,gBAClDxC,OAAA;UACE8C,IAAI,EAAC,MAAM;UACXC,WAAW,EAAC,qBAAqB;UACjCC,KAAK,EAAE7C,IAAK;UACZ8C,QAAQ,EAAGnC,CAAC,IAAKV,OAAO,CAACU,CAAC,CAACoC,MAAM,CAACF,KAAK,CAAE;UACzCG,QAAQ;UACRhB,SAAS,EAAC,aAAa;UACvBiB,QAAQ,EAAE3C;QAAQ;UAAAgC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACF5C,OAAA;UACE8C,IAAI,EAAC,UAAU;UACfC,WAAW,EAAC,qBAAqB;UACjCC,KAAK,EAAE3C,QAAS;UAChB4C,QAAQ,EAAGnC,CAAC,IAAKR,WAAW,CAACQ,CAAC,CAACoC,MAAM,CAACF,KAAK,CAAE;UAC7CG,QAAQ;UACRhB,SAAS,EAAC,aAAa;UACvBiB,QAAQ,EAAE3C;QAAQ;UAAAgC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnB,CAAC,eACF5C,OAAA;UACE8C,IAAI,EAAC,QAAQ;UACbX,SAAS,EAAC,cAAc;UACxBiB,QAAQ,EAAE3C,OAAQ;UAAA+B,QAAA,EAEjB/B,OAAO,GAAG,eAAe,GAAIF,UAAU,GAAG,SAAS,GAAG;QAAU;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3D,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACP5C,OAAA;QAAGmC,SAAS,EAAC,cAAc;QAAAK,QAAA,GACxBjC,UAAU,GAAG,wBAAwB,GAAG,0BAA0B,eACnEP,OAAA;UACEqD,OAAO,EAAEA,CAAA,KAAM;YACb7C,aAAa,CAAC,CAACD,UAAU,CAAC;YAC1BH,OAAO,CAAC,EAAE,CAAC;YACXE,WAAW,CAAC,EAAE,CAAC;UACjB,CAAE;UACF6B,SAAS,EAAC,kBAAkB;UAC5BiB,QAAQ,EAAE3C,OAAQ;UAAA+B,QAAA,EAEjBjC,UAAU,GAAG,SAAS,GAAG;QAAS;UAAAkC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC7B,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC1C,EAAA,CA5HuBD,SAAS;EAAA,QAKdJ,WAAW;AAAA;AAAAyD,EAAA,GALNrD,SAAS;AAAA,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}