{"ast":null,"code":"import axios from 'axios';\nconst API = axios.create({\n  baseURL: 'http://localhost:5000/api',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\n// Get current user ID\nconst getCurrentUserId = () => {\n  return 1; // Default to user 1 for demo\n};\n\n// ========== BOOK APIs ==========\nexport const getBooks = () => API.get('/books');\nexport const searchBooks = term => API.get(`/books/search?term=${term}`);\nexport const filterBooksByGenre = genre => API.get(`/books/filter/${genre}`);\n\n// ========== CART APIs ==========\nexport const addToCart = (bookId, quantity = 1) => {\n  const userId = getCurrentUserId();\n  return API.post('/cart/add', {\n    userId,\n    bookId,\n    quantity\n  });\n};\nexport const getCartItems = () => {\n  // No user ID needed - backend uses default user 1\n  return API.get('/cart');\n};\nexport const removeFromCart = cartItemId => {\n  return API.delete(`/cart/${cartItemId}`);\n};\nexport const updateCartQuantity = (cartItemId, quantity) => {\n  return API.put(`/cart/${cartItemId}`, {\n    quantity\n  });\n};\nexport const clearCart = () => {\n  const userId = getCurrentUserId();\n  return API.delete(`/cart/clear/${userId}`);\n};\n\n// ========== HELPER FUNCTIONS ==========\nexport const getCartItemCount = async () => {\n  try {\n    const response = await getCartItems();\n    return response.data.length;\n  } catch (error) {\n    console.error('Error getting cart count:', error);\n    return 0;\n  }\n};\nexport default API;","map":{"version":3,"names":["axios","API","create","baseURL","headers","getCurrentUserId","getBooks","get","searchBooks","term","filterBooksByGenre","genre","addToCart","bookId","quantity","userId","post","getCartItems","removeFromCart","cartItemId","delete","updateCartQuantity","put","clearCart","getCartItemCount","response","data","length","error","console"],"sources":["C:/Users/leokr/project/src/services/api.js"],"sourcesContent":["\r\nimport axios from 'axios';\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n  headers: {\r\n    'Content-Type': 'application/json',\r\n  },\r\n});\r\n\r\n// Get current user ID\r\nconst getCurrentUserId = () => {\r\n  return 1; // Default to user 1 for demo\r\n};\r\n\r\n// ========== BOOK APIs ==========\r\nexport const getBooks = () => API.get('/books');\r\nexport const searchBooks = (term) => API.get(`/books/search?term=${term}`);\r\nexport const filterBooksByGenre = (genre) => API.get(`/books/filter/${genre}`);\r\n\r\n// ========== CART APIs ==========\r\nexport const addToCart = (bookId, quantity = 1) => {\r\n  const userId = getCurrentUserId();\r\n  return API.post('/cart/add', { userId, bookId, quantity });\r\n};\r\n\r\nexport const getCartItems = () => {\r\n  // No user ID needed - backend uses default user 1\r\n  return API.get('/cart');\r\n};\r\n\r\nexport const removeFromCart = (cartItemId) => {\r\n  return API.delete(`/cart/${cartItemId}`);\r\n};\r\n\r\nexport const updateCartQuantity = (cartItemId, quantity) => {\r\n  return API.put(`/cart/${cartItemId}`, { quantity });\r\n};\r\n\r\nexport const clearCart = () => {\r\n  const userId = getCurrentUserId();\r\n  return API.delete(`/cart/clear/${userId}`);\r\n};\r\n\r\n// ========== HELPER FUNCTIONS ==========\r\nexport const getCartItemCount = async () => {\r\n  try {\r\n    const response = await getCartItems();\r\n    return response.data.length;\r\n  } catch (error) {\r\n    console.error('Error getting cart count:', error);\r\n    return 0;\r\n  }\r\n};\r\n\r\nexport default API;\r\n"],"mappings":"AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,GAAG,GAAGD,KAAK,CAACE,MAAM,CAAC;EACvBC,OAAO,EAAE,2BAA2B;EACpCC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;;AAEF;AACA,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAC7B,OAAO,CAAC,CAAC,CAAC;AACZ,CAAC;;AAED;AACA,OAAO,MAAMC,QAAQ,GAAGA,CAAA,KAAML,GAAG,CAACM,GAAG,CAAC,QAAQ,CAAC;AAC/C,OAAO,MAAMC,WAAW,GAAIC,IAAI,IAAKR,GAAG,CAACM,GAAG,CAAC,sBAAsBE,IAAI,EAAE,CAAC;AAC1E,OAAO,MAAMC,kBAAkB,GAAIC,KAAK,IAAKV,GAAG,CAACM,GAAG,CAAC,iBAAiBI,KAAK,EAAE,CAAC;;AAE9E;AACA,OAAO,MAAMC,SAAS,GAAGA,CAACC,MAAM,EAAEC,QAAQ,GAAG,CAAC,KAAK;EACjD,MAAMC,MAAM,GAAGV,gBAAgB,CAAC,CAAC;EACjC,OAAOJ,GAAG,CAACe,IAAI,CAAC,WAAW,EAAE;IAAED,MAAM;IAAEF,MAAM;IAAEC;EAAS,CAAC,CAAC;AAC5D,CAAC;AAED,OAAO,MAAMG,YAAY,GAAGA,CAAA,KAAM;EAChC;EACA,OAAOhB,GAAG,CAACM,GAAG,CAAC,OAAO,CAAC;AACzB,CAAC;AAED,OAAO,MAAMW,cAAc,GAAIC,UAAU,IAAK;EAC5C,OAAOlB,GAAG,CAACmB,MAAM,CAAC,SAASD,UAAU,EAAE,CAAC;AAC1C,CAAC;AAED,OAAO,MAAME,kBAAkB,GAAGA,CAACF,UAAU,EAAEL,QAAQ,KAAK;EAC1D,OAAOb,GAAG,CAACqB,GAAG,CAAC,SAASH,UAAU,EAAE,EAAE;IAAEL;EAAS,CAAC,CAAC;AACrD,CAAC;AAED,OAAO,MAAMS,SAAS,GAAGA,CAAA,KAAM;EAC7B,MAAMR,MAAM,GAAGV,gBAAgB,CAAC,CAAC;EACjC,OAAOJ,GAAG,CAACmB,MAAM,CAAC,eAAeL,MAAM,EAAE,CAAC;AAC5C,CAAC;;AAED;AACA,OAAO,MAAMS,gBAAgB,GAAG,MAAAA,CAAA,KAAY;EAC1C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,YAAY,CAAC,CAAC;IACrC,OAAOQ,QAAQ,CAACC,IAAI,CAACC,MAAM;EAC7B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,OAAO,CAAC;EACV;AACF,CAAC;AAED,eAAe3B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}