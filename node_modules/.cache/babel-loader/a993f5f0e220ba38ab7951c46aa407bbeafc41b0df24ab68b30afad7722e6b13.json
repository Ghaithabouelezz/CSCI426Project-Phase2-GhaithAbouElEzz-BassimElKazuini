{"ast":null,"code":"const handleCheckout = async () => {\n  try {\n    const user = JSON.parse(localStorage.getItem('user'));\n    if (!user) {\n      alert('Please login to checkout');\n      navigate('/');\n      return;\n    }\n    if (cartItems.length === 0) {\n      alert('Your cart is empty!');\n      return;\n    }\n\n    // Calculate total\n    const total = cartItems.reduce((sum, item) => {\n      const price = item.price || 0;\n      const quantity = item.quantity || 1;\n      return sum + price * quantity;\n    }, 0);\n\n    // Show order confirmation\n    alert(`✅ Order placed!\\nTotal: $${total.toFixed(2)}\\nThank you for your purchase!`);\n\n    // Clear the cart after successful checkout\n    await clearCart();\n    setCartItems([]);\n    setSuccessMessage('Order placed successfully! Cart cleared.');\n    setTimeout(() => setSuccessMessage(''), 3000);\n  } catch (err) {\n    console.error('Error during checkout:', err);\n    alert('Failed to process checkout. Please try again.');\n  }\n};","map":{"version":3,"names":["handleCheckout","user","JSON","parse","localStorage","getItem","alert","navigate","cartItems","length","total","reduce","sum","item","price","quantity","toFixed","clearCart","setCartItems","setSuccessMessage","setTimeout","err","console","error"],"sources":["C:/Users/leokr/project/src/services/api.js"],"sourcesContent":["const handleCheckout = async () => {\r\n  try {\r\n    const user = JSON.parse(localStorage.getItem('user'));\r\n    if (!user) {\r\n      alert('Please login to checkout');\r\n      navigate('/');\r\n      return;\r\n    }\r\n\r\n    if (cartItems.length === 0) {\r\n      alert('Your cart is empty!');\r\n      return;\r\n    }\r\n\r\n    // Calculate total\r\n    const total = cartItems.reduce((sum, item) => {\r\n      const price = item.price || 0;\r\n      const quantity = item.quantity || 1;\r\n      return sum + (price * quantity);\r\n    }, 0);\r\n    \r\n    // Show order confirmation\r\n    alert(`✅ Order placed!\\nTotal: $${total.toFixed(2)}\\nThank you for your purchase!`);\r\n    \r\n    // Clear the cart after successful checkout\r\n    await clearCart();\r\n    setCartItems([]);\r\n    setSuccessMessage('Order placed successfully! Cart cleared.');\r\n    setTimeout(() => setSuccessMessage(''), 3000);\r\n    \r\n  } catch (err) {\r\n    console.error('Error during checkout:', err);\r\n    alert('Failed to process checkout. Please try again.');\r\n  }\r\n};"],"mappings":"AAAA,MAAMA,cAAc,GAAG,MAAAA,CAAA,KAAY;EACjC,IAAI;IACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC;IACrD,IAAI,CAACJ,IAAI,EAAE;MACTK,KAAK,CAAC,0BAA0B,CAAC;MACjCC,QAAQ,CAAC,GAAG,CAAC;MACb;IACF;IAEA,IAAIC,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE;MAC1BH,KAAK,CAAC,qBAAqB,CAAC;MAC5B;IACF;;IAEA;IACA,MAAMI,KAAK,GAAGF,SAAS,CAACG,MAAM,CAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;MAC5C,MAAMC,KAAK,GAAGD,IAAI,CAACC,KAAK,IAAI,CAAC;MAC7B,MAAMC,QAAQ,GAAGF,IAAI,CAACE,QAAQ,IAAI,CAAC;MACnC,OAAOH,GAAG,GAAIE,KAAK,GAAGC,QAAS;IACjC,CAAC,EAAE,CAAC,CAAC;;IAEL;IACAT,KAAK,CAAC,4BAA4BI,KAAK,CAACM,OAAO,CAAC,CAAC,CAAC,gCAAgC,CAAC;;IAEnF;IACA,MAAMC,SAAS,CAAC,CAAC;IACjBC,YAAY,CAAC,EAAE,CAAC;IAChBC,iBAAiB,CAAC,0CAA0C,CAAC;IAC7DC,UAAU,CAAC,MAAMD,iBAAiB,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;EAE/C,CAAC,CAAC,OAAOE,GAAG,EAAE;IACZC,OAAO,CAACC,KAAK,CAAC,wBAAwB,EAAEF,GAAG,CAAC;IAC5Cf,KAAK,CAAC,+CAA+C,CAAC;EACxD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}